<?xml version="1.0" ?>
<!DOCTYPE config SYSTEM "http://www.matsim.org/files/dtd/config_v2.dtd">

<config>

	<!-- Based on examples/scenarios/dvrp-grid/one_taxi_and_one_shared_taxi_config.xml -->
	<module name="multiModeTaxi">
		<parameterset type="taxi">
            <param name="breakIfNotAllRequestsServed" value="false" /> <!-- allow orders to fail -->
			<param name="destinationKnown" value="false"/>
			<param name="vehicleDiversion" value="false"/>
			<param name="pickupDuration" value="120"/>
			<param name="dropoffDuration" value="60"/>
			<param name="onlineVehicleTracker" value="false"/>

			<param name="taxisFile" value="vehicles_1.xml"/>

			<param name="timeProfiles" value="true"/>
			<param name="detailedStats" value="true"/>

			<param name="maxSearchDuration" value="60"/>
            <param name="requestAcceptanceDelay" value="10"/>

			<parameterset type="RuleBasedTaxiOptimizer">
				<!-- number of nearest vehicles to consider, on dispatch. Default: 30
				     Looks in nearby zones, sorted by linear distance.
				 -->
				<param name="nearestVehiclesLimit" value="30" />
                <param name="reoptimizationTimeStep" value="10" /> <!-- dispatching triggers every: simTime % reoptimizationTimeStep == 0. e.g. reoptimizationTimeStep: 7 => on simTime: 7, 14, 21, .. -->
			</parameterset>
		</parameterset>
	</module>

	<module name="network">
		<param name="inputNetworkFile" value="network.xml"/>
	</module>

	<module name="plans">
		<param name="inputPlansFile" value="population_1.xml"/>
	</module>

	<module name="qsim">
		<param name="simStarttimeInterpretation" value="onlyUseStarttime"/>
		<param name="insertingWaitingVehiclesBeforeDrivingVehicles" value="true"/>
		<param name="snapshotStyle" value="queue"/>
	</module>

	<module name="controler">
		<param name="outputDirectory" value="output"/>
		<param name="overwriteFiles" value="deleteDirectoryIfExists"/>
		<param name="firstIteration" value="0"/>
		<param name="lastIteration" value="1"/>
	</module>

	<module name="planCalcScore">
		<param name="activityType_0" value="dummy"/>
		<param name="activityTypicalDuration_0" value="24:00:00"/>
		<param name="traveling_taxi" value="-6"/>
	</module>

	<module name="strategy">
		<!-- We focus only on DynAgents. "Standard" agents do not change their behaviour -->
		<param name="maxAgentPlanMemorySize" value="1"/>
		<param name="ModuleProbability_1" value="1.0"/>
		<param name="Module_1" value="KeepLastSelected"/>
	</module>
</config>
